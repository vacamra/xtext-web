apply from: "${rootDir}/gradle/eclipse-project-layout.gradle"

dependencies {
	compile "org.eclipse.xtext:org.eclipse.xtext:$versions.xtext"
	mwe2Compile "org.eclipse.xtext:org.eclipse.xtext.xtext.generator:$versions.xtext"
	mwe2Compile "org.eclipse.xtext:org.eclipse.xtext.common.types:$versions.xtext"
}

sourceSets.mwe2.java.srcDir 'generator'

task generateExampleLanguages(type: XtextGeneratorTask) {
	workflow = file('src/org/eclipse/xtext/web/example/statemachine/GenerateStatemachine.mwe2')
	outputs.dir 'src-gen'
	classpath = configurations.mwe2Runtime + configurations.compile + configurations.mwe2Compile
}